// Dependencies
@use "@styles/globals/spacing";
@use "@styles/globals/colours";
@use "@styles/globals/effects";
@use "@styles/globals/mixins" as mx;

.compareCont {
	width: 100%;

	@include mx.flex-vertical-list;
	@include mx.gap(m);

	height: 100vh; // Support for older browsers
	height: 100dvh; // Full viewport height on modern browsers
	max-height: 100dvh;

	padding: 2 * spacing.$unit;
	padding-bottom: 3 * spacing.$unit;




	.introCont {
		position: absolute;
		background: colours.$off-white;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		padding: 4 * spacing.$unit;
		padding-bottom: 6 * spacing.$unit;
		@include mx.flex-vertical-list;
		@include mx.gap(m);
		justify-content: space-between;
		align-items: center;



		.gameDetails {
			width: 100%;
			@include mx.flex-vertical-list;
			@include mx.gap(m);
			justify-content: flex-end;
			align-items: center;
	
			* {
				width: 100%;;
				max-width: 500px;
			}
	
			.buttonsCont {
				@include mx.flex-vertical-list;
				@include mx.gap(s);
				margin-top: 2 * spacing.$unit;
			}
		}

		header {
			width: 100%;
			max-width: 500px;
			display: grid;
			grid-template-columns: 1fr 1fr;
			height: fit-content;

			.close {
				height: 2 * spacing.$unit;
				width: 2 * spacing.$unit;
				align-self: flex-start;

				img {
					margin: auto;
				}
			}

			.logo {
				height: 1.2 * spacing.$unit;
				width: auto;
				align-self: center;
				justify-self: flex-end;

				img {
					margin: auto;
				}

				&:hover {
					cursor: pointer;
				}
			}
		}
	}





	header {
		display: grid;
		grid-template-columns: 1fr 1fr 1fr;
		height: fit-content;
		
		.close {
			height: 2 * spacing.$unit;
			aspect-ratio: 1 / 1;
			padding: 0.5 * spacing.$unit;

			img {
				margin: auto;
			}
		}

		.timer {
			text-align: center;
			margin: auto;
			height: 2 * spacing.$unit;
			line-height: 1.7 * spacing.$unit;
			visibility: hidden;
		}

		.score {
			text-align: right;
			justify-self: flex-end;
			align-self: center;
		}
	}



	.gameCont {
		width: 100%;
		height: 100%;
		display: grid;
		grid-template-rows: 1fr 1fr;
		grid-template-columns: 100%;
		@include mx.gap(s);
		min-height: 0;

		// On larger screens, make it side-by-side
		@media (min-width: 700px) {
			grid-template-rows: 1fr;
			grid-template-columns: 1fr 1fr;
		}

		
		.carCont1, .carCont2 {
			width: 100%;
			height: 100%;
			background: colours.$white;
			box-shadow: inset effects.$box-shadow;
			@include mx.standard-rounded;
			padding: 2 * spacing.$unit;
			padding-top: 2.4 * spacing.$unit;

			min-height: 100px;

			overflow: hidden;

		}
		
		.carImage {
			width: 100%;
			height: 100%;
			object-fit: contain;
			
			visibility: hidden;
		}
	}
	
	
	
	.comparisonButtons {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
		@include mx.gap(s);
		justify-content: center;
		width: 100%;
		max-width: 600px;
		margin: auto;

		.same {
			background: #22c55e; // Green for same
		}
		.different {
			background: #ff505b; // Red for different
		}

		h3 {
			width: 100%;
			text-align: center;
		}
	}







	.finishedCont {
		visibility: hidden;
		opacity: 0;

		position: absolute;
		background: colours.$off-white;
		width: 100%;
		height: 100%;
		min-height: fit-content;
		top: 0;
		left: 0;
		padding: 6 * spacing.$unit 2 * spacing.$unit 4 * spacing.$unit;

		@include mx.flex-vertical-list;
		@include mx.gap(m);
		align-items: center;

		> p {
			text-align: center;
			width: 100%;
			max-width: 500px;
		}


		.finalScoreCont, 
		.interactionsCont {
			@include mx.flex-vertical-list;
			@include mx.gap(s);

			width: 100%;

			text-align: center;
			align-items: center;

			.finishedPreScore,
			.finishedScore,
			.retryButton,
			.homeButton {
				opacity: 0;
			}

			.retryButton,
			.homeButton {
				visibility: hidden;
			}
		}

		.finishedScore {
			transform: scale(0.7);
		}

		.interactionsCont {
			@include mx.gap(m);

			.message {
				opacity: 0;
			}

			.buttonsCont {
				width: 100%;
				max-width: 700px;
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 1.5 * spacing.$unit;
				
				* {
					justify-content: center;
				}
			}
		}
	}
}